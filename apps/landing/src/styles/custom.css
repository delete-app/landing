/* Delete Learn - Custom Theme
   Matches landing page: dark mode, amber accent, system fonts */

:root {
  /* Accent colors - amber to match landing page */
  --sl-color-accent-low: #2a1a0a;
  --sl-color-accent: #e67e22;
  --sl-color-accent-high: #f39c12;

  /* Gray scale for dark theme - DO NOT override --sl-color-white or --sl-color-black
	   as Starlight uses these semantically (white = text color, black = background) */
  --sl-color-gray-1: #fafafa;
  --sl-color-gray-2: #c9c9c9;
  --sl-color-gray-3: #888888;
  --sl-color-gray-4: #555555;
  --sl-color-gray-5: #333333;
  --sl-color-gray-6: #1a1a1a;
  --sl-color-gray-7: #141414;

  /* System fonts like landing page */
  --sl-font: system-ui, -apple-system, sans-serif;
  --sl-font-mono: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, monospace;

  /* Typography */
  --sl-text-h1: clamp(1.75rem, 5vw, 2.5rem);
  --sl-text-h2: clamp(1.4rem, 3vw, 1.75rem);
}

/* Dark theme backgrounds matching landing page #0a0a0a */
:root,
[data-theme='light'] {
  --sl-color-bg: #0a0a0a;
  --sl-color-bg-nav: #0a0a0a;
  --sl-color-bg-sidebar: #0a0a0a;
  --sl-color-hairline-shade: #1a1a1a;
  --sl-color-hairline-light: #222222;
}

/* Link styling */
a {
  color: var(--sl-color-accent);
  transition: color 0.15s ease;
}

a:hover {
  color: var(--sl-color-accent-high);
  text-decoration: none;
}

/* Content area links */
.sl-markdown-content a {
  color: var(--sl-color-accent);
  text-decoration: underline;
  text-decoration-color: rgba(230, 126, 34, 0.4);
  text-underline-offset: 2px;
}

.sl-markdown-content a:hover {
  color: var(--sl-color-accent-high);
  text-decoration-color: var(--sl-color-accent-high);
}

/* Content area */
.content-panel {
  border-color: #1a1a1a;
}

/* Sidebar styling */
.sidebar-content {
  border-color: #1a1a1a;
}

/* Header styling */
header.header {
  border-bottom-color: #1a1a1a;
}

/* Better reading experience */
.sl-markdown-content {
  line-height: 1.7;
}

.sl-markdown-content p {
  margin-bottom: 1.25rem;
}

/* Blockquotes for hooks */
.sl-markdown-content blockquote {
  border-left: 3px solid var(--sl-color-accent);
  background: rgba(230, 126, 34, 0.05);
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  font-style: italic;
}

/* Code blocks */
.sl-markdown-content pre {
  background: #141414;
  border: 1px solid #222;
}

/* Tables */
.sl-markdown-content table {
  border-color: #222;
}

.sl-markdown-content th {
  background: #141414;
}

/* Mobile improvements */
@media (max-width: 50rem) {
  .sl-markdown-content {
    font-size: 1rem;
  }

  /* Add padding at bottom for fixed TOC bar */
  main {
    padding-bottom: 4rem !important;
  }

  /* ===== MOBILE TOC - MOVE TO BOTTOM ===== */

  /* Remove the top padding that Starlight adds for the TOC */
  .main-frame {
    padding-top: var(--sl-nav-height) !important;
  }

  /* Remove original space taken by TOC container */
  mobile-starlight-toc {
    display: contents;
  }

  /* Move the mobile TOC nav to the bottom of screen */
  mobile-starlight-toc nav {
    position: fixed !important;
    top: auto !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: var(--sl-z-index-toc);
    border-top: 1px solid #333;
    border-bottom: none;
    background: #0a0a0a !important;
  }

  /* TOC summary padding for safe area */
  mobile-starlight-toc summary {
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom)) !important;
  }

  /* Hide "On this page" text, keep only icon */
  mobile-starlight-toc .toggle {
    font-size: 0;
    gap: 0;
    padding-inline: 0.5rem !important;
  }

  mobile-starlight-toc .toggle svg {
    width: 16px;
    height: 16px;
  }

  /* TOC dropdown opens upward */
  mobile-starlight-toc #starlight__mobile-toc .dropdown,
  mobile-starlight-toc details > div {
    position: absolute !important;
    bottom: 100% !important;
    top: auto !important;
    left: 0 !important;
    right: 0 !important;
    border-radius: 1rem 1rem 0 0;
    border: 1px solid #333;
    border-bottom: none;
    background: #0f0f0f !important;
    box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.5);
    max-height: 60vh;
  }

  /* Handle indicator for TOC dropdown */
  mobile-starlight-toc #starlight__mobile-toc .dropdown::before,
  mobile-starlight-toc details > div::before {
    content: '';
    display: block;
    width: 2.5rem;
    height: 0.25rem;
    background: #444;
    border-radius: 0.125rem;
    margin: 0.75rem auto 0.5rem;
  }

  /* ===== SIDEBAR BOTTOM SHEET ===== */

  /* Sidebar pane - bottom sheet style when open */
  nav.sidebar .sidebar-pane {
    border-radius: 1rem 1rem 0 0;
    border-top: 1px solid #333;
    background: #0f0f0f !important;
    box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.5);
  }

  /* Bottom sheet handle */
  nav.sidebar .sidebar-pane::before {
    content: '';
    display: block;
    width: 2.5rem;
    height: 0.25rem;
    background: #444;
    border-radius: 0.125rem;
    margin: 0.75rem auto 0.5rem;
  }

  /* Sidebar content scrollable - hide scrollbar but keep scroll functionality */
  nav.sidebar .sidebar-content {
    max-height: calc(70vh - 3rem) !important;
    overflow-y: auto !important;
    padding-bottom: calc(1rem + env(safe-area-inset-bottom)) !important;
    /* Hide scrollbar for all browsers */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
  }

  nav.sidebar .sidebar-content::-webkit-scrollbar {
    display: none; /* Chrome/Safari/Opera */
  }
}
